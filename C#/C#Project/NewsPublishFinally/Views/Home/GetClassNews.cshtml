@using System.Collections

@model List<Hashtable>

@{
    ViewData["Title"] = Model[0]["NewsClass"];
}



<div style="margin:0 auto ;height:600px; width:1280px;margin-top:10px; ">

    <div class="po">
        <div class="nav-content btn-group-vertical" role="group">
            <div class="nav-class">
                <ul>
                    <li class="page-color"><a style="color:white; " asp-controller="home" asp-action="GetAllNews" asp-route-pages="1">&nbsp;返回首页&nbsp;</a></li>
                    <li><a asp-controller="home" asp-action="GetClassNews" asp-route-cname="热点">&nbsp;热点&nbsp;</a></li>
                    <li><a asp-controller="home" asp-action="GetClassNews" asp-route-cname="时事">&nbsp;时事&nbsp;</a></li>
                    <li><a asp-controller="home" asp-action="GetClassNews" asp-route-cname="政治">&nbsp;政治&nbsp;</a></li>
                    <li><a asp-controller="home" asp-action="GetClassNews" asp-route-cname="经济">&nbsp;经济&nbsp;</a></li>
                    <li><a asp-controller="home" asp-action="GetClassNews" asp-route-cname="文化">&nbsp;文化&nbsp;</a></li>
                    <li><a asp-controller="home" asp-action="GetClassNews" asp-route-cname="全球">&nbsp;全球&nbsp;</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="nav-news">
        @* 新闻部分 *@
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th colspan="3" style="text-align:center;"><h4>您正在浏览： @Model[0]["NewsClass"]新闻</h4></th>
                    </tr>

                    <tr>
                        <th style="width:30%;">标题</th>
                        <th style="width:50%;">新闻主要内容</th>
                        <th style="width:20%;">发布时间</th>
                    </tr>
                </thead>



                @* 遍历新闻内容 *@
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@item["NewsTitle"]</td>

                        @* 把a标签插入，可以在另一个页面中查看新闻的详细信息 *@
                        <td>
                            <a style="display:inline-block; width:100%;height:100%;" asp-controller="home" asp-action="GetNewsContentAndComment" asp-route-title="@item["NewsTitle"]">
                                @* 设置内容预览，限制在20个字以内 *@
                                @for (int i = 0; i < 20; i++)
                                {
                                    @item["NewsContent"].ToString()[i];

                                    if (@item["NewsContent"].ToString().Length == i + 1)
                                    {
                                        break;
                                    }
                                }...
                            </a>
                        </td>

                        <td>@item["NewsPublishTime"]</td>
                    </tr>
                }

            </table>
        </div>
        

    </div>


    <div class="totop">
        @* 返回顶部 *@
        <a href="#top">回到顶部</a>
    </div>

</div>



